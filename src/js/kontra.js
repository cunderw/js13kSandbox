/*
 * Kontra.js v3.3.0 (Custom Build on 2018-08-10) | MIT
 * Build: https://straker.github.io/kontra/download?files=gameLoop+keyboard+sprite
 */
this.kontra={init:function(n){var t=this.canvas=document.getElementById(n)||n||document.querySelector("canvas");this.context=t.getContext("2d")},_noop:new Function,_isString:function(n){return""+n===n},_isNumber:function(n){return+n===n},_isImage:function(n){return!!n&&"IMG"===n.nodeName||this._isCanvas(n)},_isCanvas:function(n){return!!n&&"CANVAS"===n.nodeName},_tick:new Function};
!function(d,m,h){d.gameLoop=function(e){var n,t,a,o,r=(e=e||{}).fps||60,i=0,c=1e3/r,p=1/r,s=!1===e.clearCanvas?d._noop:function(){d.context.clearRect(0,0,d.canvas.width,d.canvas.height)};function f(){if(t=m(f),a=h.now(),o=a-n,n=a,!(1e3<o)){for(d._tick(),i+=o;c<=i;)u.update(p),i-=c;s(),u.render()}}var u={update:e.update,render:e.render,isStopped:!0,start:function(){n=h.now(),this.isStopped=!1,m(f)},stop:function(){this.isStopped=!0,cancelAnimationFrame(t)},_frame:f,set _last(e){n=e}};return u}}(kontra,requestAnimationFrame,performance);
!function(){for(var t={},e={},o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"leftwindow",92:"rightwindow",93:"select",144:"numlock",145:"scrolllock",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n=0;n<26;n++)o[65+n]=(10+n).toString(36);for(n=0;n<10;n++)o[48+n]=""+n,o[96+n]="numpad"+n;for(n=1;n<20;n++)o[111+n]="f"+n;var r=window.addEventListener;r("keydown",function(n){var r=o[n.which];e[r]=!0,t[r]&&t[r](n)}),r("keyup",function(n){var r=o[n.which];e[r]=!1}),r("blur",function(n){e={}}),kontra.keys={bind:function(n,r){n=Array.isArray(n)?n:[n];for(var e,o=0;e=n[o];o++)t[e]=r},unbind:function(n){n=Array.isArray(n)?n:[n];for(var r,e=0;r=n[e];e++)t[r]=null},pressed:function(n){return!!e[n]}}}();
!function(a,i,s,o){a.vector=function(t,i){var n=Object.create(a.vector.prototype);return n._init(t,i),n},a.vector.prototype={_init:function(t,i){this._x=t||0,this._y=i||0},add:function(t,i){this._x+=(t.x||0)*(i||1),this._y+=(t.y||0)*(i||1)},clamp:function(t,i,n,e){this._clamp=!0,this._xMin=t!==o?t:-s,this._yMin=i!==o?i:-s,this._xMax=n!==o?n:s,this._yMax=e!==o?e:s},get x(){return this._x},get y(){return this._y},set x(t){this._x=this._clamp?i.min(i.max(this._xMin,t),this._xMax):t},set y(t){this._y=this._clamp?i.min(i.max(this._yMin,t),this._yMax):t}},a.sprite=function(t){var i=Object.create(a.sprite.prototype);return i.init(t),i},a.sprite.prototype={init:function(t){var i,n,e,s=this;for(var o in t=t||{},s.position=s.position||a.vector(),s.velocity=s.velocity||a.vector(),s.acceleration=s.acceleration||a.vector(),s.position._init(t.x,t.y),s.velocity._init(t.dx,t.dy),s.acceleration._init(t.ddx,t.ddy),s.width=s.height=0,t)s[o]=t[o];if(s.ttl=t.ttl||0,s.context=t.context||a.context,s.advance=s._advance,s.draw=s._draw,a._isImage(i=t.image))s.image=i,s.width=i.width,s.height=i.height,s.draw=s._drawImg;else if(i=t.animations){for(var h in s.animations={},i)n=i[h],s.animations[h]=n.clone?n.clone():n,e||(e=s.animations[h]);s.currentAnimation=e,s.width=e.width,s.height=e.height,s.advance=s._advanceAnim,s.draw=s._drawAnim}},get x(){return this.position.x},get y(){return this.position.y},get dx(){return this.velocity.x},get dy(){return this.velocity.y},get ddx(){return this.acceleration.x},get ddy(){return this.acceleration.y},set x(t){this.position.x=t},set y(t){this.position.y=t},set dx(t){this.velocity.x=t},set dy(t){this.velocity.y=t},set ddx(t){this.acceleration.x=t},set ddy(t){this.acceleration.y=t},isAlive:function(){return 0<this.ttl},collidesWith:function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},update:function(t){this.advance(t)},render:function(){this.draw()},playAnimation:function(t){this.currentAnimation=this.animations[t],this.currentAnimation.loop||this.currentAnimation.reset()},_advance:function(t){this.velocity.add(this.acceleration,t),this.position.add(this.velocity,t),this.ttl--},_advanceAnim:function(t){this._advance(t),this.currentAnimation.update(t)},_draw:function(){this.context.fillStyle=this.color,this.context.fillRect(this.x,this.y,this.width,this.height)},_drawImg:function(){this.context.drawImage(this.image,this.x,this.y)},_drawAnim:function(){this.currentAnimation.render({context:this.context,x:this.x,y:this.y})}}}(kontra,Math,1/0);